# WiFly485 - RS485 WiFiä¸­ç»§ç³»ç»Ÿ

åŸºäºESP8266çš„RS485 WiFié€æ˜ä¼ è¾“è§£å†³æ–¹æ¡ˆï¼Œå®ç°VRFæ§åˆ¶å™¨ä¸æ–°é£ç³»ç»Ÿä¹‹é—´çš„æ— çº¿é€šä¿¡ä¸­ç»§ã€‚

## ğŸš€ é¡¹ç›®ç‰¹æ€§

- **é€æ˜ä¼ è¾“**: RS485ä¿¡å·é€šè¿‡WiFiç½‘ç»œé€æ˜ä¼ è¾“
- **ç»Ÿä¸€å›ºä»¶**: æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä½¿ç”¨åŒä¸€å¥—ä»£ç ï¼Œé€šè¿‡ç¼–è¯‘å®åŒºåˆ†
- **è‡ªåŠ¨é…ç½®**: WiFiçƒ­ç‚¹é…ç½®æ¨¡å¼ï¼Œç®€åŒ–å®‰è£…è¿‡ç¨‹
- **ç¨³å®šå¯é **: è‡ªåŠ¨é‡è¿ã€å¿ƒè·³æ£€æµ‹ã€é”™è¯¯æ¢å¤æœºåˆ¶
- **çŠ¶æ€æŒ‡ç¤º**: å®Œæ•´çš„LEDçŠ¶æ€æŒ‡ç¤ºç³»ç»Ÿ
- **Webé…ç½®**: å†…ç½®WebæœåŠ¡å™¨è¿›è¡Œå‚æ•°é…ç½®

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
graph LR
    A[VRFæ§åˆ¶å™¨] -->|RS485| B[æœåŠ¡ç«¯æ¨¡å¼<br>ESP8266]
    B -->|WiFi| C[è·¯ç”±å™¨]
    C -->|WiFi| D[å®¢æˆ·ç«¯æ¨¡å¼<br>ESP8266]
    D -->|RS485| E[æ–°é£ç³»ç»Ÿ]
```

## ğŸ“‹ ç¡¬ä»¶éœ€æ±‚

- **ä¸»æ§**: ESP8266å¼€å‘æ¿
- **é€šä¿¡**: MAX3485 RS485è½¬æ¢æ¨¡å—
- **ç”µæº**: 5Væˆ–3.3Vç”µæº
- **ç½‘ç»œ**: 2.4GHz WiFiè·¯ç”±å™¨

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…PlatformIO
pip install platformio

# å…‹éš†é¡¹ç›®
git clone https://github.com/davidhoo/WiFly485.git
cd WiFly485
```

### 2. ç¼–è¯‘å›ºä»¶

```bash
# ç¼–è¯‘æœåŠ¡ç«¯ç‰ˆæœ¬
pio run -e esp12e_server

# ç¼–è¯‘å®¢æˆ·ç«¯ç‰ˆæœ¬
pio run -e esp12e_client
```

### 3. çƒ§å½•å›ºä»¶

```bash
# çƒ§å½•æœåŠ¡ç«¯å›ºä»¶
pio run -e esp12e_server --target upload

# çƒ§å½•å®¢æˆ·ç«¯å›ºä»¶
pio run -e esp12e_client --target upload
```

### 4. é…ç½®ç½‘ç»œ

1. è®¾å¤‡ä¸Šç”µåè‡ªåŠ¨å¯åŠ¨WiFiçƒ­ç‚¹ï¼š`WiFly485_Repeater_XXXX`
2. è¿æ¥çƒ­ç‚¹åè®¿é—®ï¼š`192.168.4.1`
3. é€šè¿‡Webç•Œé¢é…ç½®WiFiå‚æ•°
4. é…ç½®å®Œæˆåè‡ªåŠ¨é‡å¯å¹¶è¿æ¥è·¯ç”±å™¨

## ğŸ“ é¡¹ç›®ç»“æ„

```
WiFly485/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.cpp          # ä¸»ç¨‹åºæ–‡ä»¶
â”œâ”€â”€ include/              # å¤´æ–‡ä»¶ç›®å½•
â”œâ”€â”€ lib/                  # åº“æ–‡ä»¶ç›®å½•
â”œâ”€â”€ test/                 # æµ‹è¯•æ–‡ä»¶ç›®å½•
â”œâ”€â”€ platformio.ini        # PlatformIOé…ç½®æ–‡ä»¶
â”œâ”€â”€ éœ€æ±‚æ–‡æ¡£.md           # è¯¦ç»†éœ€æ±‚æ–‡æ¡£
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

## ğŸ› ï¸ å¼€å‘ç¯å¢ƒ

- **æ¡†æ¶**: Arduino
- **å¹³å°**: ESP8266
- **IDE**: PlatformIO / VSCode
- **è¯­è¨€**: C++

## ğŸ“Š æŠ€æœ¯è§„æ ¼

| å‚æ•° | è§„æ ¼ |
|------|------|
| WiFiæ ‡å‡† | 802.11 b/g/n |
| é€šä¿¡é€Ÿç‡ | 1200-115200 bps |
| å·¥ä½œç”µå‹ | 3.3V |
| å·¥ä½œæ¸©åº¦ | -20Â°C ~ +70Â°C |

## ğŸ”„ å¼€å‘æµç¨‹

æœ¬é¡¹ç›®é‡‡ç”¨GitHub Flowå¼€å‘æµç¨‹ï¼š

1. ä»`main`åˆ†æ”¯åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
2. å®ŒæˆåŠŸèƒ½å¼€å‘
3. åˆ›å»ºPull Request
4. ä»£ç å®¡æŸ¥ååˆå¹¶

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§LICENSEæ–‡ä»¶

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

## ğŸ“ è”ç³»

- é¡¹ç›®åœ°å€: [https://github.com/davidhoo/WiFly485](https://github.com/davidhoo/WiFly485)
- é—®é¢˜åé¦ˆ: [GitHub Issues](https://github.com/davidhoo/WiFly485/issues)